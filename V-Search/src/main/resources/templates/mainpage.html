<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net/thymeleaf/layout"
	layout:decorate="~{layout/layout}">

<head>
	<link rel="stylesheet" type="text/css" th:href="@{/style.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/mainpage.css}">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
	<style>
		.line-clamp-2 {
			display: -webkit-box;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
			overflow: hidden;
		}

		.line-clamp-1 {
			display: -webkit-box;
			-webkit-line-clamp: 1;
			-webkit-box-orient: vertical;
			overflow: hidden;
		}
	</style>
</head>

<body layout:fragment="content" class="bg-gray-900 text-white">
	<main class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6">
		<div class="relative group rounded-lg overflow-hidden" th:each="detail, iterStat : ${videoDetails}">
			<a class="absolute inset-0 z-10" th:href="@{|/video/${detail[0]}|}">
				<span class="sr-only">비디오 보기</span>
			</a>
			<img alt="Video Thumbnail" class="w-full h-60 object-cover" th:src="@{/placeholder.svg}"
				style="aspect-ratio: 400/225;">
			<div
				class="absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
				<button class="text-white" style="background: none; border: none;">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
						stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<polygon points="6 3 20 12 6 21 6 3"></polygon>
					</svg>
				</button>
			</div>
			<div class="p-2 bg-white dark:bg-gray-950">
				<h3 class="text-lg font-semibold line-clamp-2" th:text="${detail[1]}"></h3>
				<p class="text-sm text-gray-500 dark:text-gray-400 line-clamp-1" th:text="${detail[2]}"></p>
			</div>
		</div>
	</main>

	<div th:if="${message}" class="alert alert-success" role="alert" id="flash-message">
		<p th:text="${message}"></p>
	</div>

	<script>
		function hideMessage() {
			var messageElement = document.getElementById("flash-message");
			if (messageElement) {
				setTimeout(function () {
					messageElement.style.display = "none";
				}, 5000);
			}
		}
		window.onload = hideMessage;
	</script>
</body>

</html>